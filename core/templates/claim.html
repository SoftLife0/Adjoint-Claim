{% extends "user.html" %}
{% load static %}
{% block body %}
<style>
    .col-date {
        width: 20%;
    }
    .col-course {
        width: 60%;
    }
    .col-hours {
        width: 20%;
    }
</style>


<div class="container my-5 col-md-8">
    <div class=" text-center">
        <img src="{% static 'img/fav.png' %}" width="100"> 
        <h4 class="mb-3">CENTRAL UNIVERSITY</h4>
        <h6 style="color: black; text-decoration: underline;">CLAIM FORM FOR INTERNAL FACULTY</h6>
    </div>
    <form method="POST" action="">
        {% csrf_token %}
        
        <!-- Main Form Fields -->
        <div class="row mb-3">
            <div class="col-6">
                <label for="lecturerName" class="col-form-label">Name of Lecturer:</label>
                {{ claim_form.lecturer_name }}
            </div>
            <div class="col-6">
                <label for="course" class="col-form-label">Course:</label>
                {{ claim_form.course }}
            </div>
        </div>
    
        <div class="row mb-3">
            <div class="col-4">
                <label for="academicYear" class="col-form-label">Year:</label>
                {{ claim_form.academic_year }}
            </div>
            <div class="col-4">
                <label for="semester" class="col-form-label" >Semester:</label>
                {{ claim_form.semester }}
            </div>
            <div class="col-4">
                <label for="month" class="col-form-label">Month:</label>
                {{ claim_form.month }}
            </div>
        </div>
    
        
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th class="col-date">DATE</th>
                        <th class="col-course">CLASS/COURSE(S)</th>
                        <th class="col-hours"> HOURS</th>
                    </tr>
                </thead>
                <tbody id="sessionRows">
                    {% for i in rows %}
                    <tr>
                        <td>
                            <input type="date" class="form-control" name="date{{ i }}" placeholder="Select Date">
                        </td>
                        <td>
                            <textarea type="text" class="form-control" name="course{{ i }}" placeholder="Course Name" style="width: 100%;"></textarea>
                        </td>
                        <td>
                            <div class="time-inputs">
                                <input type="time" name="start_time{{ i }}" placeholder="Start Time">
                                <input type="time" name="end_time{{ i }}" placeholder="End Time">
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

        <div class="mb-3">
            <input type="hidden" name="total_rows" id="totalRows" value="10">
            <button type="button" id="addRowBtn" class="btn btn-primary">
                <i class="bi bi-plus-circle-fill"></i>
            </button>
        </div>
        

        <div class="col-md-6">
            <button type="submit" class="pill-button">File a Claim</button>
        </div>

    </form>
    
    
</div>
    

<script>
    let rowCounter = 10;
    const sessionRows = document.getElementById('sessionRows');
    const addRowBtn = document.getElementById('addRowBtn');
    const totalRows = document.getElementById('totalRows');

    addRowBtn.addEventListener('click', () => {
        rowCounter++;
        const newRow = `
            <tr>
                <td><input type="date" class="form-control" name="date${rowCounter}"></td>
                <td><textarea type="text" class="form-control" name="course${rowCounter}"></textarea></td>
                <td>
                    <div style="display: flex; gap: 10px;">
                        <input type="time" class="form-control" name="start_time${rowCounter}">
                        <input type="time" class="form-control" name="end_time${rowCounter}">
                    </div>
                </td>
            </tr>
        `;
        sessionRows.insertAdjacentHTML('beforeend', newRow);
        totalRows.value = rowCounter;  // Update hidden input to reflect total rows
    });
</script>


{% endblock %}